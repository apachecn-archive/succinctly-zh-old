## 写入细胞值

使用 HBase Shell，可以使用 put 命令为单个单元格写入数据，指定表名，行键，列名和单元格值。代码清单 10 中的命令将 cf1 列族中的数据列的值设置为具有键 rk1 的行的 v1 ：

代码 10：写入数据

```
hbase(main):019:0> put 'with-default-config', 'rk1', 'cf1:data', 'v1'
0 row(s) in 0.0070 seconds

```

put 命令就像插入/更新一样工作。如果该行不存在，则命令将创建该行，创建列并设置单元格值。如果该行存在但列不存在，则该命令会将该列添加到该行并设置单元格值。

使用具有单个单元版本的默认列族配置，如果行和列已存在，则该命令将使用新值覆盖现有值。但是对于具有多个版本的列族， put 命令会添加带有该值的新单元格版本并设置时间戳。

您可以选择指定要使用的自定义时间戳值，作为单元格值之后的长整数。代码清单 11 明确指定了 UNIX 纪元（1970 年 1 月 1 日）过去一毫秒的时间戳：

代码清单 11：使用时间戳写入数据

```
hbase(main):020:0> put 'with-default-config', 'rk1', 'cf1:data', 'v0', 1
0 row(s) in 0.0060 seconds

```

![](img/00009.jpeg)提示。在更新中指定时间戳时要小心。如果您的时间戳早于单元格的其他版本（即使列系列中只配置了一个版本），则假定您的数据比当前数据旧，并且单元格值不会被覆盖 - 并且更新丢失了。