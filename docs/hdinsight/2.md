# 第 1 章平台概述

## 微软的大数据平台

数据世界正在发生巨大变化，因此对如何交互和分析数据的期望正在发生变化。 Microsoft 为内部部署和云中的结构化，非结构化和流式数据提供了广泛且可扩展的数据存储功能组合。

微软通过 SQL Server 平台出现在传统的 BI 领域，该平台可以非常令人满意地扩展到数百 GB 的范围，而不需要专业的硬件或巧妙的配置。自 2010 年左右开始，微软还提供了一些可扩展的专业设备：用于高达 100TB 的任何 SQL Server 快速跟踪数据仓库，以及用于任何进入 PB 级别的 SQL Server 并行数据仓库（PDW）。

然而，这些平台只处理关系数据，随着 Hadoop 的出现，开源运动超越了微软（以及其他许多供应商）。微软确实在内部有一个名为 Dryad 的类似平台，但是在 Dryad 预计上线之前不久，它被放弃了，有利于与 Hortonworks 一起创建 Hadoop 发行版。 [&lt;sup&gt;[1]&lt;/sup&gt;](../Text/hdi-13.html#_ftn1) [&lt;sup&gt;[2] ]&lt;/sup&gt;](../Text/hdi-13.html#_ftn2)

从该决策点开始，该平台的各种预览作为内部部署或云版本提供。 2013 年初，HDInsight 名称被用于预览（取代原来的“Hadoop on Azure”名称），云平台于 2013 年 10 月全面上市。在撰写本文时，本地版本仍在预览没有确定的发布日期。

这些技术的各个方面正在回归关系世界：并行数据仓库的 2.0 版本支持 Hadoop，包括一种名为 PolyBase 的语言，允许查询在同一语句中包含关系数据和非关系数据。 [&lt;sup&gt;[3]&lt;/sup&gt;](../Text/hdi-13.html#_ftn3)

## 数据管理和存储

数据管理需求已从传统的关系存储发展到关系存储和非关系存储，全谱信息管理平台需要支持所有类型的数据。为了提供对任何数据的洞察力，需要一个平台，为跨关系，非关系和流数据的数据管理提供一整套功能。平台需要能够将数据从一种类型无缝地移动到另一种类型，并且能够监视和管理所有数据，而不管数据类型或数据结构如何。这必须在应用程序不必担心规模，性能，安全性和可用性的情况下发生。

除了支持所有类型的数据之外，将数据移入和移出非关系存储（例如 Hadoop）和关系数据仓库也是关键的大数据客户使用模式之一。为了支持这种常见的使用模式，Microsoft 提供了用于在 Hadoop 中存储的数据与现有 SQL Server 数据仓库环境（包括 SQL Server 并行数据仓库）之间的高速数据移动的连接器。

今天市场上有很多关于关系型与非关系型技术的争论。提出这个问题，“我是否应该根据我的应用程序要求使用关系或非关系技术？”提出错误的问题。两者都是旨在满足不同需求的存储机制，两者应被视为互补。

关系存储对于已知模式的结构化数据很有用，这使得针对关系存储的编程需要理解像 SQL 这样的声明性查询语言。这些平台提供具有高一致性和事务隔离的存储。

相比之下，非关系存储适用于非架构数据，其中架构不存在或应用它的代价很高，并且查询它更具编程性。该平台提供了更大的灵活性和可扩展性 - 在权衡方面失去了以 ACID 方式轻松处理数据的能力;但是，并非所有 NoSQL 数据库都是如此（例如，RavenDB）。

随着这两类商店的需求不断发展，要记住的关键点是，现代数据平台必须同样支持这两种类型的数据，提供跨两者的统一监控和数据管理，并且能够轻松实现在所有类型的商店中移动和转换数据。

## HDInsight 和 Hadoop

微软的 Hadoop 发行版旨在为 Hadoop 环境带来 Windows 的健壮性，可管理性和简单性。

对于本地版本，这意味着通过与 Active Directory 集成来加强安全性，通过与 System Center 集成简化可管理性，并通过简化的打包和配置大大缩短设置和部署的时间。这些改进将使 IT 能够跨 Hadoop 集群应用一致的安全策略，并从 System Center 上的单一管理平台进行管理。

对于 Windows Azure 上的服务，Microsoft 将通过 Azure 管理门户的易于使用的组件实现 Hadoop 集群的无缝设置和配置，从而进一步降低部署障碍。

最后，他们不仅发布了基于开源的 Hadoop 发行版，而且还致力于将这些更新回馈给 Hadoop 社区。 Microsoft 致力于提供与 Apache Hadoop 应用程序编程接口（API）100％的兼容性，以便为 Apache Hadoop 编写的应用程序可以在 Windows 上运行。

微软与 [Hortonworks](http://www.hortonworks.com/) 密切合作，提交了一份正式提案，要求在 Windows Azure 和 Windows Server 上提供基于 Hadoop 的发行版，作为对 Apache 代码库的更改。 [&lt;sup&gt;[4]&lt;/sup&gt;](../Text/hdi-13.html#_ftn4) 此外，他们还在合作开发其他功能，如 Hive 连接，以及由 Microsoft 和 Hortonworks 开发的创新 JavaScript 库被提议作为对 Apache Software Foundation 的贡献。

Hortonworks 致力于加速 Apache Hadoop 的开发和采用。与 Apache 社区一起，他们使 Hadoop 更强大，更易于企业使用，并且对于解决方案提供商而言更加开放和可扩展。

预览已经过去，各种功能都来了。最初的功能是控制台，一个友好的 Web 用户界面，允许作业提交，访问 Hive，以及允许查询文件系统和提交 Pig 作业的 JavaScript 控制台。此功能已经消失，但预计会在某个时间迁移到主 Azure 门户（尽管这对于本地版本的意义尚不清楚）。但是，在其位置上出现了一组功能齐全的 PowerShell cmdlet，可以远程提交作业甚至创建集群。

一直保留的功能是通过 开放式数据库连接（ _ODBC 直接从 Excel 访问 Hive 的能力 HTG9] ） 驱动。这样就可以通过许多用户熟悉的界面消耗 Hadoop 流程的输出，并将 Hadoop 与 PowerPivot 的数据混搭功能和 PowerView 的丰富可视化相连接。_

平台不断发展，功能不断到来（偶尔也会）。本书将尽力捕捉当前状态，但即使在编写时，内容也需要更新以处理正在进行的更改。