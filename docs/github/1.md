# 第 1 章 Git - 简要概述

虽然本书主要关注 GitHub，但 Git 中有一些基本概念和术语，在您学习 GitHub 时有助于理解。

## 工作目录

工作目录是计算机或网络共享上的文件夹。每个开发人员都拥有所有代码和相关文件的完整副本。您可以在工作目录中完成所有开发工作，并让 Git 管理该文件夹的版本控制方面。

Git 将此工作目录称为存储库，或简称为 repos。当 Git 管理文件夹时，您将获得 Git 提供的所有版本控制权益。

### Git 文件

在工作目录中，您可能会找到一些额外的文件，用于向 Git 提供有关文件夹中文件的说明。这些是 .gitattributes 和 .gitignore 。属性文件告诉 Git 如何处理各种文件以进行比较操作。 ignore 文件指示 Git 不应该由 Git 处理某些文件（基于扩展名）。这些文件将在后面的章节中详细介绍。

![](img/00004.jpeg)

图 1：启动 Git 空工作目录

当您创建存储库时，Git 会将这些文件的默认版本添加到您的工作目录中。您可以在现有目录上创建 Git 存储库，或让 Git 为您创建新的存储库（和工作文件夹）。您还可以克隆现有存储库。克隆是存储库的完整副本（包括历史记录）。无论您如何创建它，您现在都将拥有一个 Git 存储库来开始工作。

### 克隆

克隆是存储库的完整副本。例如，您可以制作存储库的副本，修复一些错误，然后将代码提交回存储库。这假设您具有对存储库的写访问权。

### 叉

fork 是在您的帐户下为无法直接更新的存储库创建的存储库的副本。您可以在副本中更改代码，然后提交拉取请求，要求将更改集成回主存储库。在开源项目中通常就是这种情况，许多协作者会帮助作者解决问题，但作者决定何时将它们包含在主分支中。

### 拉请求

拉取请求是对存储库所有者的请求，以将您建议的更改合并回代码库。这通常由已修复报告问题的协作者完成。

| ![](img/00003.gif) | 注意：拉/推术语可能会令人困惑。 “推”通常意味着将信息从中心位置移动到订户，而“拉”意味着订户请求信息。在 GitHub 中，“订户”是存储库所有者，他们希望从您的（开发人员）本地存储库中提取更改。如果您将所有者视为订阅者，则“拉取请求”的定义意味着：“嘿，订阅者，我有一些您可能想要的更改......” |

## 分行

分支是一组完整的存储库文件。 Git 默认创建一个主分支。您可以创建其他分支来测试开发构思，而不会影响主分支。 Git 允许您比较分支之间的代码，并在某些时候将代码从“dev”分支合并回主分支。这允许多个协作者在不干扰基本代码的情况下处理项目。

常见分支可能包括：

*   功能分支：专用于向代码库添加新功能的分支
*   发布分支：计划下一版本的代码的分支
*   主分支：所有代码最终合并到的默认分支
*   Dev branch：正在开发代码的活动开发分支

这取决于你如何创建分支，或者即使你想要。但是，如果许多协作者正在处理项目，那么分支机构可以更轻松地开发增强功能，而不会失去从主分支构建版本的能力。

## 跟踪文件

跟踪文件是 Git 管理的工作目录（存储库）中的文件。当您添加新文件或对现有文件进行更新时，Git 会跟踪这些更改。在某些时候，您将需要通过 commit 命令将这些文件添加到存储库。

### 提交

提交是将跟踪文件中的任何更改添加到存储库的过程。您将输入摘要和说明，然后将文件添加到存储库。 Git 将保留针对存储库的所有提交的历史记录。

#### 提交消息

提交消息是应用于提交到存储库的当前文件集的摘要和描述。

### 合并

合并是将代码从一个分支组合到另一个分支的过程。完成分支中的修复和增强后，通常需要将代码合并回主分支。 Git 提供差异工具来显示代码更改并协助合并过程。

## 变更集

Git 允许您查看与您正在使用的分支相比所做的所有更改。您可以查看更改并确定要为分支提交的文件更改。例如，您可能已完成对已更改的五个文件中的两个的工作，并且您希望单独提交它们。 Git 将报告所有五个文件的变化。你提交了两个文件，Git 将它们添加到历史记录中，同时仍然跟踪其他文件。这允许您创建逻辑更改集，而不仅仅是基于日期的更改。

## 提交历史

Git 会保留所有已提交更改的历史记录，因此您可以查看在先前提交中所做的更改。如果您克隆了存储库，那么您也将获得该存储库的提交历史记录。

## 摘要

基本的 Git 流程是创建一个存储库，并进行更改和添加。然后，根据需要提交尽可能多的更改集。 Git 会报告对您跟踪文件的更改，并允许您决定如何组织提交。完成大量提交后，您可以使用 Git 的提交历史记录来查看项目状态。